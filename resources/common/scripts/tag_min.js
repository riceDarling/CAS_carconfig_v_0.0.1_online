/*! INFO: tag.js - 2016-11-23 11:51:28 */
if(!window.console){console={log:function(){}}}var CookieJS={set:function(params){var cookie=params.name+"="+encodeURI(params.value)+";";if(params.expires){params.expires=new Date(new Date().getTime()+parseInt(params.expires,10)*1000*60*60*24);cookie+="expires="+params.expires.toUTCString()+";"}cookie+=(params.path)?"path="+params.path+";":"";cookie+=(params.domain)?"domain="+params.domain+";":"";cookie+=(params.secure)?"secure;":"";cookie+=(params.httpOnly)?"httpOnly;":"";document.cookie=cookie},get:function(name){var parts=document.cookie.split(name+"=");if(parts.length==2){return decodeURI(parts.pop().split(";").shift())}},del:function(params){if(this.get(params.name)){this.set({name:params.name,value:"",expires:-1,path:params.path,domain:params.domain})}}};function enableTagMin(){CookieJS.del({name:"tagMinDisabled"})}function disableTagMin(){CookieJS.set({name:"tagMinDisabled",value:"true"})}function isTagMinEnabled(){return CookieJS.get("tagMinDisabled")==null&&CookieJS.get("tagMinDisabled")!=true}if(isTagMinEnabled()==true){function getParameterValue(name){var query=document.location.search;var pl=name.length;var c1=0;if(query.charAt(1+pl)=="="&&query.substr(1,pl)==name){c1=2+pl}for(var i=c1>0?c1:1;i<query.length;i++){if(query.charAt(i)=="&"){if(c1>0){return query.substring(c1,i)}if((i+pl+1)<query.length&&query.charAt(i+pl+1)=="="&&query.substr(i+1,pl)==name){c1=i+pl+2}}}return(c1>0)?query.substring(c1):null}var registeredTackers=["c","m","e"];if(typeof ga_data==="undefined"){ga_data=[{page:[{area:"fallback",pool:"FALLBACK",country:"fallback",lang:"fallback",name:window.location.pathname,dealer:"",formstep:""}]}]}var pPool,pArea,pCountry,pDealer,pName,pLang,pModel,pModelCode,pBreakpoint,pFormstep,pNoTrack,pCampaign,vLoginState,readGADataValues=function(){pPool=ga_data[0].page[0].pool;pArea=ga_data[0].page[0].area;pCountry=ga_data[0].page[0].country;pDealer=ga_data[0].page[0].dealer;pName=ga_data[0].page[0].name;pLang=ga_data[0].page[0].lang;pModel=ga_data[0].page[0].model?ga_data[0].page[0].model:ga_data[0].page[0].modelgroup;pModelCode=ga_data[0].page[0].ordertype;pBreakpoint=ga_data[0].page[0].breakpoint;pFormstep=ga_data[0].page[0].formstep;pNoTrack=ga_data[0].page[0].trackPageview;pCampaign=ga_data[0].page[0].campaign;vLoginState=ga_data[0].visitorLoginState},ghref=window.location.href,ghn=window.location.hostname,gpn=window.location.pathname,gse=window.location.search,ghs=window.location.hash,gdr=document.referrer,gdt=document.title,pcParam="",processid="",utmSource="",utmMedium="",uaPool="",uaArea="",ua="",ref=decodeURIComponent(getParameterValue("ref"));readGADataValues();if(typeof pFormstep!=="undefined"&&pFormstep!=""){pName+=pFormstep}if(pName.indexOf("accessoriesandservice/")>-1){pName=pName.replace("accessoriesandservice/","accessoriesandservices/")}if(pName.indexOf("/wap")!=-1&&pArea.indexOf("shop")!=-1){var re=/.*\/(wap[^/]*)\/.*/g;cgAggName=pName.replace(re,"$1")}if(gse!=""&&gse.indexOf("pc=")!=-1&&gse.indexOf("_")!=-1&&gse.indexOf("dclid=")==-1&&gse.indexOf("gclid=")==-1){pcParam=getParameterValue("pc");utmSource=pcParam.split("_")[3];utmMedium=pcParam.split("_")[1]}if(ghref.match(/\/pddsorder\/.*\?processid=/g)){processid=getParameterValue("processid");pName=pName+processid+"/"}if(gse.match(/(\?|&)(error|modelstart)=/g)&&gse.indexOf("SIGNATURE")==-1){pName=pName+gse}if((ghref.match(/ppn\.porsche\.com\/icc.*/g)||ghn.match(/((^[^.]*\.ppn|ppnlite)\.porsche|yousoft|upload\.eu\.porsche)\.com/g))&&pPool.indexOf("PREVIEW")==-1){pPool="PREVIEW_"+pPool}if(ghn.match(/^(lu-.*|.*localhost|e-wolff-tools[.]de|(preview|pdds)[.]porsche[.]com[.]dev|m[.]porsche[.]com[.]dev)/g)&&pPool.indexOf("DEVELOPMENT")==-1){pPool="DEVELOPMENT_"+pPool}var searchFilter=[{matchPattern:/(www|ppn).*\.porsche.*\/search\/(\?|&)q=/,searchKeyParam:"q",searchCat:"portal global search"},{matchPattern:/(www|ppn).*\.porsche.*\/literature\/literature.*(\?|&)searchquery=/,searchKeyParam:"searchquery",searchCat:"portal literature search"},{matchPattern:/\/microsite\/technology\/.*(\?|&)SearchedString=/,searchKeyParam:"SearchedString",searchCat:"portal techlex search"},{matchPattern:/m[0-9]*\.porsche.*\/porschetechnologyglossary\/.*(\?|&)SearchedString=/,searchKeyParam:"SearchedString",searchCat:"mobile portal techlex search"},{matchPattern:/(www|ppn).*\.porsche.*\/dealersearch\/.*(\?|&)m-01-dealer-search-field=/,searchKeyParam:"m-01-dealer-search-field",searchCat:"portal dealer search"},{matchPattern:/m[0-9]*\.porsche.*\/dealersearch\/.*(\?|&)searchkey=/,searchKeyParam:"searchkey",searchCat:"mobile portal dealer search"},{matchPattern:/shop(|pdds\.ppn)[0-9]*\.porsche.*\/search\/.*(\?|&)query=/,searchKeyParam:"query",searchCat:"shop global search"}];var searchKey="";var searchCat="";for(var i=0;i<searchFilter.length;i++){var currentFilter=searchFilter[i];if(currentFilter.matchPattern.exec(ghref)){searchCat=currentFilter.searchCat;searchKey=getParameterValue(currentFilter.searchKeyParam);pName=pName+"?searchkey="+searchKey+"&searchcat="+searchCat;break}}var modelExtraction=[{matchPattern:/\.porsche\..*\/(models|microsite)\/718/,modelName:"718"},{matchPattern:/\.porsche\..*\/(models|microsite)\/911/,modelName:"911"},{matchPattern:/\.porsche\..*\/(models|microsite)\/918/,modelName:"918"},{matchPattern:/\.porsche\..*\/(models|microsite)\/panamera/,modelName:"panamera"},{matchPattern:/\.porsche\..*\/(models|microsite)\/macan/,modelName:"macan"},{matchPattern:/\.porsche\..*\/(models|microsite)\/cayenne/,modelName:"cayenne"}];var modelName="";for(var i=0;i<modelExtraction.length;i++){var currentModel=modelExtraction[i];if(currentModel.matchPattern.exec(ghref)){pModel=currentModel.modelName;break}}if(ghref.indexOf("DATA")!=-1){var re=/(.*)(data.*)/i;ghref=ghref.replace(re,"$1data")}var dealerType="";var titleDealerType="/";var dealerName="";if(pDealer&&pDealer!=""){if(pDealer=="false"){dealerType="icc/";titleDealerType="_"+dealerType}else{if(pDealer=="true"){dealerType="dcc/";titleDealerType="_"+dealerType}else{dealerName="_"+pDealer}}}function cleanupPageName(pageName){pageName=pageName.replace("//","/");return pageName}var vpName=cleanupPageName(pPool+"/"+pArea+"/"+dealerType+pName),vpTitle=pPool+"/"+pArea+titleDealerType+pCountry+dealerName+"/"+pLang+" || "+gdt,cgDetailed=pPool+"/"+pArea+"/"+dealerType+pCountry+"/"+pLang,cgAggName=pName;if(!pNoTrack||pNoTrack=="false"){var pag_tracker={page:function(name){UDGTRACKING.UTILITIES.trackPageview(vpName+name)},event:function(category,action,label){var convertedParameter=convertEventParameter(category,action,label);if(convertedParameter.category!="#blocked#"){UDGTRACKING.UTILITIES.trackEvent(category,action,label)}},social:function social(network,socialAction,target,pagePath){UDGTRACKING.UTILITIES.trackSocial(network,socialAction,target)},ecAddToCart:function addToCart(product){console.log("Not implemented yet!"+product)},ecAddProduct:function addProduct(id,name,category,brand,variant,price,position,action,list){for(var j=0;j<registeredTackers.length;j++){var trackerName=registeredTackers[j];var activeTracker=ga.getByName(trackerName);if(typeof(activeTracker)!="undefined"){if(UDGTRACKING.CONFIG.debug){console.log("Add ec Product for :"+trackerName)}ga(trackerName+".require","ec");ga(trackerName+".ec:addProduct",{id:id,name:name,category:category,brand:brand,variant:variant,price:price,position:position});if(list!=null){ga(trackerName+".ec:setAction",action,{list:list})}else{ga(trackerName+".ec:setAction",action)}}}UDGTRACKING.UTILITIES.trackEvent("ecommerce",action,"")},ecAddImpression:function addImpression(productList){var maxBulkSize=4;var productCounter=0;for(var j=0;j<productList.length;j++){for(var k=0;k<registeredTackers.length;k++){var trackerName=registeredTackers[k];var activeTracker=ga.getByName(trackerName);if(typeof(activeTracker)!="undefined"){if(UDGTRACKING.CONFIG.debug==true){console.log("Add ec Impression for :"+trackerName)}ga(trackerName+".require","ec");ga(trackerName+".ec:addImpression",productList[j])}}productCounter++;if(productCounter==maxBulkSize){productCounter=0;UDGTRACKING.UTILITIES.trackEvent("ecommerce","impression","")}}if(productCounter>0){UDGTRACKING.UTILITIES.trackEvent("ecommerce","impression","")}},ecPurchase:function purchaseTransaction(transactionId,affiliation,revenue,tax,shipping){for(var j=0;j<registeredTackers.length;j++){var trackerName=registeredTackers[j];var activeTracker=ga.getByName(trackerName);if(typeof(activeTracker)!="undefined"){if(UDGTRACKING.CONFIG.debug){console.log("Add ec Product for :"+trackerName)}ga(trackerName+".require","ec");ga(trackerName+".ec:setAction","purchase",{id:transactionId,affiliation:affiliation,revenue:revenue,tax:tax,shipping:shipping,coupon:""})}}UDGTRACKING.UTILITIES.trackEvent("ecommerce","purchase","")},ecAddPromo:function(promo){console.log("Not implemented yet!"+promo)},checkoutStep:function(step){console.log("Not implemented yet!"+step)},removeFromCart:function(product){console.log("Not implemented yet!"+product)},refreshParams:function refreshDataParams(){readGADataValues();if(pDealer&&pDealer!=""){if(pDealer=="false"){dealerType="icc/";titleDealerType="_"+dealerType}else{if(pDealer=="true"){dealerType="dcc/";titleDealerType="_"+dealerType}else{dealerName="_"+pDealer}}}vpName=cleanupPageName(pPool+"/"+pArea+"/"+dealerType+pName);vpTitle=pPool+"/"+pArea+titleDealerType+pCountry+dealerName+"/"+pLang+" || "+gdt;cgDetailed=pPool+"/"+pArea+"/"+dealerType+pCountry+"/"+pLang;cgAggName=pName;for(var i=0;i<registeredTackers.length;i++){var trackerName=registeredTackers[i];ga(trackerName+".set","page",vpName);ga(trackerName+".set","title",vpTitle);ga(trackerName+".set","contentGroup1",cgDetailed);ga(trackerName+".set","contentGroup2",pCountry);ga(trackerName+".set","contentGroup3",pLang);ga(trackerName+".set","contentGroup4",pModel);ga(trackerName+".set","contentGroup5","/"+cgAggName);ga(trackerName+".set","dimension1",ghref);ga(trackerName+".set","dimension2",pBreakpoint);ga(trackerName+".set","dimension3",ref);ga(trackerName+".set","dimension4",pModel);ga(trackerName+".set","dimension5",pModelCode)}},doubleClickRemarketing:function doubleClickRemarketing(id,type){if(ga_data[0].product!="undefined"){var src="";if(type=="productView"){var u1=ga_data[0].product[0].id;var u2=ga_data[0].product[0].name;var u3=ga_data[0].product[0].price;var u4=ga_data[0].product[0].mainCategory;var u5=ga_data[0].product[0].subCategory;var u6="";var u7="";var u8="";src="https://"+id+".fls.doubleclick.net/activityi;src="+id+";type=porsc0;cat=pds-prod";src+=";u1="+u1+";u2="+u2+";u3="+u3+";u4="+u4+";u5="+u5+";u6="+u6+";u7="+u7+";u8="+u8}else{if(type="purchase"){var costs=eCommerceData[0].transaction[0].total;src="https://"+id+".fls.doubleclick.net/activityi;src="+id+";type=porsc00;cat=de_po0";src+=";qty=1;cost="+costs+";ord=1?"}}if(src!=""){if(document.getElementById("pag_dynremarketing_doubleclick")==null){var fl=document.createElement("iframe");fl.src=src;fl.id="pag_dynremarketing_doubleclick";fl.width="1";fl.height="1";fl.frameborder="0";fl.style="display:none";var z=document.getElementsByTagName("body")[0];z.appendChild(fl)}else{fl=document.getElementById("pag_dynremarketing_doubleclick");fl.src=src}}}}}}var uaPoolMapping={ROOT:"36161131","undefined":"36161131",PCA:"36872509",PBR:"36852693",PGCN:"36876318",POF:"36873054",PD:"36875227",PCEE:"36851589",PIT:"37168016",PJ:"36878110",PLA:"36879600",PME:"36866671",PAP:"36876622",PIB:"37156076",PRU:"37154883",PCH:"37153996",PCGB:"37156674",PCNA:"37168818",PCL:"36875719",EUR:"37156284",INT:"36875831",PKR:"57683321",PMU:"38927838",PDE:"58535228",PCO:"43060340",PEG:"41349299",PHO:"43066187",PLG:"43061496",PSC:"43070264",};var uaAreaMapping={portal:"1",mobile:"2",shop:"3",dealer:"3",origin:"4",pec:"5",dcc:"6",pcc_shop:"5",};var indidividualAreaMappings={PME:{shop:"4",dcc:"5",pcc_shop:"8"},PCA:{dealer:"6",dcc:"5",pcc_shop:"8"},PD:{dcc:"5",pcc_shop:"6"},EUR:{shop:"4"},PAP:{dcc:"4"},PBR:{dcc:"3"},PCEE:{dcc:"4"},PCGB:{dealer:"7",pcc_shop:"8"},PCH:{dcc:"4",dealer:"5",pcc_shop:"6",},PCL:{dcc:"3"},PGCN:{dcc:"3"},PIB:{dcc:"4",pcc_shop:"5"},PIT:{dcc:"4",pcc_shop:"5"},PJ:{dcc:"5"},PKR:{dcc:"5",dealer:"6",pcc_shop:"7"},PLA:{dcc:"3"},PME:{dcc:"5",shop:"4"},POF:{dcc:"4",pcc_shop:"5"},PRU:{dcc:"5"},PCNA:{pcc_shop:"7"}};var adaptedMappings=indidividualAreaMappings[pPool];if(adaptedMappings!=null){var keys=Object.keys(adaptedMappings);for(i=0;i<keys.length;i++){var key=keys[i];uaAreaMapping[key]=adaptedMappings[key]}}uaPool=uaPoolMapping[pPool];uaArea=(pDealer&&pDealer!=""&&pDealer!="false"&&pDealer!="true")?uaAreaMapping.dealer:(pDealer=="true"?uaAreaMapping.dcc:uaAreaMapping[pArea]);if(pPool.match(/(PREVIEW|DEV|FALLBACK)/)!=null){uaPool="35879884";uaArea="1"}if(typeof uaAreaMapping[pArea]=="undefined"){uaArea="1"}ua="UA-"+uaPool+"-"+uaArea;(function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../../../../www.google-analytics.com/analytics.js"/*tpa=http://www.google-analytics.com/analytics.js*/,"ga");var q={};q.html={};q.html.fileLoader={};q.html.fileLoader.load=function(url,preLoadAction,postLoadHandler,parentNode,async){var scriptEl,preLoadResult,loadError,oldOnError,doPostLoad;doPostLoad=function(){postLoadHandler(url,loadError);if(oldOnError){window.onerror=oldOnError}};try{if(preLoadAction){preLoadResult=preLoadAction(url)}}catch(e){preLoadResult=false}finally{if(preLoadResult!==false){scriptEl=q.html.fileLoader.createScriptEl(url,async);if(postLoadHandler){scriptEl.onload=doPostLoad;scriptEl.onreadystatechange=function(){if((this.readyState==="complete")||(this.readyState==="loading")){setTimeout(doPostLoad,1)}}}if(!parentNode){parentNode=window.document.getElementsByTagName("head")[0]}if(window.onerror){oldOnError=window.onerror}window.onerror=function(reason,url,lineNumber){loadError={reason:reason,url:url,lineNumber:lineNumber};return true};parentNode.appendChild(scriptEl)}}};q.html.fileLoader.createScriptEl=function(path,async,forceReload){var scriptEl=document.createElement("script");scriptEl.type="text/javascript";scriptEl.src=q.html.fileLoader.tidyUrl(path)+(forceReload?("?"+new Date().getTime()):"");if(async!==false){scriptEl.async="true";scriptEl.defer="true"}else{scriptEl.async="false";if(scriptEl.async!==false){scriptEl.async=false}scriptEl.defer="false"}return scriptEl};q.html.fileLoader.tidyUrl=function(path){if(path.substring(0,5)==="http:"){return path}if(path.substring(0,6)==="https:"){return path}return"//"+path};q.html.GlobalEval={};q.html.GlobalEval.globalEval=function(src){if(window.execScript){window.execScript(src)}else{var fn=function(){window["eval"].call(window,src)};fn()}};q.html.HtmlInjector={};q.html.HtmlInjector.inject=function(el,injectStart,str,cb,parentNode){var i,ii,d,scriptsRaw,scripts,script,contents;if(str.toLowerCase().indexOf("<script")>=0){d=document.createElement("div");d.innerHTML="a"+str;scriptsRaw=d.getElementsByTagName("script");scripts=[];for(i=0,ii=scriptsRaw.length;i<ii;i+=1){scripts.push(scriptsRaw[i])}contents=[];for(i=0,ii=scripts.length;i<ii;i+=1){script=scripts[i];if(script.src){contents.push({src:script.src})}else{contents.push({script:script.innerHTML})}script.parentNode.removeChild(script)}if(d.innerHTML){if(d.innerHTML.length>0){d.innerHTML=d.innerHTML.substring(1)}}q.html.HtmlInjector.doInject(el,injectStart,d);q.html.HtmlInjector.loadScripts(contents,0,cb,el)}else{d=document.createElement("div");d.innerHTML=str;q.html.HtmlInjector.doInject(el,injectStart,d);if(cb){cb()}}};q.html.HtmlInjector.doInject=function(el,injectStart,d){if(d.childNodes.length>0){var fragment=document.createDocumentFragment();while(d.childNodes.length>0){fragment.appendChild(d.removeChild(d.childNodes[0]))}if(injectStart){q.html.HtmlInjector.injectAtStart(el,fragment)}else{q.html.HtmlInjector.injectAtEnd(el,fragment)}}};q.html.HtmlInjector.injectAtStart=function(el,fragment){if(el.childNodes.length===0){el.appendChild(fragment)}else{el.insertBefore(fragment,el.childNodes[0])}};q.html.HtmlInjector.injectAtEnd=function(el,fragment,counter){if(!counter){counter=1}if((el===document.body)&&(document.readyState!=="complete")&&(counter<50)){setTimeout(function(){q.html.HtmlInjector.injectAtEnd(el,fragment,counter+1)},100)}else{el.appendChild(fragment)}};q.html.HtmlInjector.loadScripts=function(contents,i,cb,parentNode){var ii,c;for(ii=contents.length;i<ii;i+=1){c=contents[i];if(c.src){q.html.fileLoader.load(c.src,null,function(){q.html.HtmlInjector.loadScripts(contents,i+1,cb,parentNode)},parentNode);break}else{q.html.GlobalEval.globalEval(c.script)}}if(cb&&(i===ii)){cb()}};var urlFilters=[{filterType:"1",patternType:"3",patternMatch:pPool,pattern:"^(root|undefined|preview|development|fallback)",priority:1,scriptLoaderKeys:["100"]},{filterType:"1",patternType:"3",patternMatch:pPool,pattern:"^(pca|pbr|pgcn|pof|pd|pcee|pit|pj|pla|pme|pap|pib|pru|pch|pcgb|pcna|pcl|eur|int|pkr|pmu|pde)$",priority:1,scriptLoaderKeys:["200","204"]},{filterType:"2",patternType:"3",patternMatch:pPool,pattern:"^(development|preview)_link",priority:1,scriptLoaderKeys:["200"]},{filterType:"1",patternType:"3",patternMatch:pDealer,pattern:"^east-flanders$",priority:1,scriptLoaderKeys:["201"]},{filterType:"1",patternType:"3",patternMatch:pPool,pattern:"^(pco|peg|pho|plg|psc)$",priority:1,scriptLoaderKeys:["300"]},{filterType:"1",patternType:"2",patternMatch:pPool,pattern:"link",priority:1,scriptLoaderKeys:["400"]},{filterType:"1",patternType:"3",pattern:"//shop[0-9]*.porsche.com/usa/(car/|)($|[?]|#)",priority:1,scriptLoaderKeys:["99999001"]},{filterType:"1",patternType:"3",patternMatch:vpName,pattern:"^pd/shop",priority:2,scriptLoaderKeys:["202"]}],scriptLoaders={100:{id:"100",name:"^(root|undefined|preview|development|fallback)",pre:"",url:"",post:"",html:"<script type='text/javascript'>ga('create',ua,'auto','m');ga('m.require','linkid','linkid.js'/*tpa=http://cc.porsche.com/icc_euro/resources/common/scripts/linkid.js*/);ga('m.require','displayfeatures');ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','forceSSL',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','anonymizeIp',true);if(gse!=''&&gse.indexOf('pc=')!=-1&&gse.indexOf('_')!=-1&&gse.indexOf('dclid=')==-1&&gse.indexOf('gclid=')==-1&&gse.indexOf('_OWN_')==-1){ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','campaignName',pcParam);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','campaignSource',utmSource);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','campaignMedium',utmMedium);}ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','page',vpName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','title',vpTitle);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup1',cgDetailed);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup2',pCountry);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup3',pLang);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup5','/'+cgAggName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension1',ghref);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension2',pBreakpoint);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension5',pModelCode);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension3',ref);if(pNoTrack!=='false'){ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.send','pageview');}<\/script>",locationId:1,positionId:2,locationDetail:"",async:false,usesDocWrite:false},200:{id:"200",name:"^(pca|pbr|pgcn|pof|pd|pcee|pit|pj|pla|pme|pap|pib|pru|pch|pcgb|pcna|pcl|eur|int|pkr|pmu|pde)$",pre:"",url:"",post:"",html:"<script type='text/javascript'>ga('create',ua,'auto','c');ga('create','UA-36161131-1','auto','m');ga('c.require','linkid','linkid.js'/*tpa=http://cc.porsche.com/icc_euro/resources/common/scripts/linkid.js*/);ga('m.require','linkid','linkid.js'/*tpa=http://cc.porsche.com/icc_euro/resources/common/scripts/linkid.js*/);ga('c.require','displayfeatures');ga('m.require','displayfeatures');ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','forceSSL',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','forceSSL',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','anonymizeIp',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','anonymizeIp',true);if(gse!=''&&gse.indexOf('pc=')!=-1&&gse.indexOf('_')!=-1&&gse.indexOf('dclid=')==-1&&gse.indexOf('gclid=')==-1&&gse.indexOf('_OWN_')==-1){ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','campaignName',pcParam);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','campaignName',pcParam);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','campaignSource',utmSource);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','campaignSource',utmSource);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','campaignMedium',utmMedium);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','campaignMedium',utmMedium);}ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','page',vpName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','title',vpTitle);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup1',cgDetailed);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup2',pCountry);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup3',pLang);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup5','/'+cgAggName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension1',ghref);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension2',pBreakpoint);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension3',ref);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension5',pModelCode);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','page',vpName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','title',vpTitle);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup1',cgDetailed);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup2',pCountry);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup3',pLang);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','contentGroup5','/'+cgAggName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension1',ghref);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension2',pBreakpoint);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension3',ref);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.set','dimension5',pModelCode);if(pNoTrack!=='false'){ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.send','pageview');ga('http://cc.porsche.com/icc_euro/resources/common/scripts/m.send','pageview');}<\/script>",locationId:1,positionId:2,locationDetail:"",async:false,usesDocWrite:false},202:{id:"200",name:"pd/shop",pre:"",url:"",post:"",html:"<script type='text/javascript'><\/script>",locationId:1,positionId:2,locationDetail:"",async:false,usesDocWrite:false},204:{id:"200",name:"^(pca|pbr|pgcn|pof|pd|pcee|pit|pj|pla|pme|pap|pib|pru|pch|pcgb|pcna|pcl|eur|int|pkr|pmu|pde)$",pre:"",url:"",post:"",html:"<script type='text/javascript'>window.addEventListener('hashchange',onHashNavigationChange);<\/script>",locationId:1,positionId:2,locationDetail:"",async:false,usesDocWrite:false},300:{id:"300",name:"^(pco|peg|pho|plg|psc)$",pre:"",url:"",post:"",html:"<script type='text/javascript'>ga('create',ua,'auto','c');ga('c.require','linkid','linkid.js'/*tpa=http://cc.porsche.com/icc_euro/resources/common/scripts/linkid.js*/);ga('c.require','displayfeatures');ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','forceSSL',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','anonymizeIp',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','page',vpName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','title',vpTitle);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup1',cgDetailed);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup2',pCountry);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup3',pLang);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup5','/'+cgAggName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension1',ghref);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension5',pModelCode);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.send','pageview');<\/script>",locationId:1,positionId:2,locationDetail:"",async:false,usesDocWrite:false},400:{id:"400",name:"^link",pre:"",url:"",post:"",html:"<script type='text/javascript'>ga('create','UA-38934327-3','auto','c');ga('c.require','linkid','linkid.js'/*tpa=http://cc.porsche.com/icc_euro/resources/common/scripts/linkid.js*/);ga('c.require','displayfeatures');ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','forceSSL',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','anonymizeIp',true);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','page',vpName+' || '+pCampaign);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','title',vpTitle);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup1',cgDetailed);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup2',pCountry);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup3',pLang);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup4',pCampaign);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','contentGroup5','/'+cgAggName);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension1',ghref);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension4',pModel);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.set','dimension5',pModelCode);ga('http://cc.porsche.com/icc_euro/resources/common/scripts/c.send','pageview');<\/script>",locationId:1,positionId:2,locationDetail:"",async:false,usesDocWrite:false},99999001:{id:"99999001",name:"SEA PIXEL",pre:"",url:"",post:"",html:"<script type='text/javascript'>var ebRand=Math.random()+'';ebRand=ebRand*1000000;document.write('<scr'+'ipt src=\"HTTP://bs.serving-sys.com/BurstingPipe/ActivityServer.bs?cn=as&amp;ActivityID=288751&amp;rnd='+ebRand+'\"></scr'+'ipt>');<\/script>",locationId:2,positionId:1,locationDetail:"",async:false,usesDocWrite:true}};function QTag(urlFilters,scriptLoaders){QTag.qTagLoaders=QTag.getLoaders(urlFilters,scriptLoaders,document.URL);QTag.loadersFinished=0;QTag.loadLoaders()}QTag.ALL="1";QTag.SUBSTRING="2";QTag.REGEX="3";QTag.EXACT_MATCH="4";QTag.FILTER_TYPE_INCLUDE="1";QTag.FILTER_TYPE_EXCLUDE="2";QTag.getLoaders=function(urlFilters,scriptLoaders,url){var url=document.URL.toLowerCase();var i,ii,urlFilter,loaderKeysSet={},matchedFilters=[],loaders=[];if((!urlFilters)||(!url)){return loaders}for(i=0,ii=urlFilters.length;i<ii;i+=1){urlFilter=urlFilters[i];var urlFilterPatternMatch=((typeof urlFilter.patternMatch!=="undefined"||urlFilter.patternMatch)?urlFilter.patternMatch:url);if(QTag.doesUrlFilterMatch(urlFilter,urlFilterPatternMatch.toLowerCase())){matchedFilters.push(urlFilter)}}matchedFilters.sort(function(a,b){return b.priority-a.priority});for(i=0,ii=matchedFilters.length;i<ii;i+=1){QTag.updateLoaders(matchedFilters[i],loaderKeysSet)}for(i in loaderKeysSet){if(loaderKeysSet.hasOwnProperty(i)){loaders.push(scriptLoaders[i])}}return loaders};QTag.doesUrlFilterMatch=function(urlFilter,url){var matches=false;switch(urlFilter.patternType){case QTag.EXACT_MATCH:if(url.toLowerCase()===urlFilter.pattern.toLowerCase()){matches=true}break;case QTag.SUBSTRING:if(url.toLowerCase().indexOf(urlFilter.pattern.toLowerCase())>=0){matches=true}break;case QTag.REGEX:if(new RegExp(urlFilter.pattern).test(url)){matches=true}break;case QTag.ALL:matches=true;break}return matches};QTag.updateLoaders=function(urlFilter,loaderKeysSet){var i,ii,scriptLoaderKeys=urlFilter.scriptLoaderKeys;if(urlFilter.filterType===QTag.FILTER_TYPE_INCLUDE){for(i=0,ii=scriptLoaderKeys.length;i<ii;i+=1){if(scriptLoaderKeys.hasOwnProperty(i)){loaderKeysSet[scriptLoaderKeys[i]]=true}}}else{if(urlFilter.filterType===QTag.FILTER_TYPE_EXCLUDE){for(i=0,ii=scriptLoaderKeys.length;i<ii;i+=1){if(scriptLoaderKeys.hasOwnProperty(i)){delete loaderKeysSet[scriptLoaderKeys[i]]}}}}};QTag.waitCounts={};QTag.maxLoads=10;QTag.loadCheckInterval=500;QTag.loadLoaders=function(){var i,ii,qTagLoader,err;QTag.docWriteUsers=[];for(i=0,ii=QTag.qTagLoaders.length;i<ii;i+=1){qTagLoader=QTag.qTagLoaders[i];try{if(qTagLoader.usesDocWrite){QTag.docWriteUsers.push(qTagLoader)}else{QTag.doWhenReady(qTagLoader,QTag.loadTagLoader,function(){})}}catch(e){err={reason:"error parsing loader, "+qTagLoader.id+": "+e.reason,url:document.location.href};if(window.debug){console.log(err)}}}QTag.loadLoadersSequentially()};QTag.doWhenReady=function(qTagLoader,f,timeoutHandler){QTag.waitCounts[qTagLoader.id]=0;QTag._doWhenReady(qTagLoader,f,timeoutHandler)};QTag._doWhenReady=function(qTagLoader,f,timeoutHandler){if(QTag.canLoad(qTagLoader)){f(qTagLoader)}else{if(QTag.waitCounts[qTagLoader.id]<QTag.maxLoads){QTag.waitCounts[qTagLoader.id]+=1;setTimeout(function(){QTag._doWhenReady(qTagLoader,f,timeoutHandler)},QTag.loadCheckInterval)}else{timeoutHandler(qTagLoader)}}};QTag.canLoad=function(qTagLoader){if(qTagLoader.locationId===2){return !!document.body}else{if(qTagLoader.locationId===3){return !!document.getElementById(qTagLoader.locationDetail)}}return true};QTag.loadLoadersSequentially=function(){var qTagLoader;if(QTag.docWriteUsers.length>0){qTagLoader=QTag.docWriteUsers[0];QTag.docWriteUsers.shift();QTag.doWhenReady(qTagLoader,QTag.loadLoaderSequentially,function(){QTag.loadLoadersSequentially()})}};QTag.loadLoaderSequentially=function(qTagLoader){var text=[];document.write=function(t){text.push(t)};document.writeln=function(t){text.push(t)};finishHandler=function(){var el=QTag.getLocation(qTagLoader);q.html.HtmlInjector.inject(el,qTagLoader.positionId===1,text.join("\n"),QTag.loadLoadersSequentially)};qTagLoader.finishHandler=finishHandler;QTag.loadTagLoader(qTagLoader)};QTag.loadTagLoader=function(qTagLoader){var ender=QTag.getTimerEnder(qTagLoader);try{if(qTagLoader.url){q.html.fileLoader.load(qTagLoader.url,QTag.getTimerStarter(qTagLoader),ender,qTagLoader.parentNode,qTagLoader.async)}else{if(qTagLoader.html){QTag.injectHtml(qTagLoader)}}}catch(e){ender(null,e)}};QTag.injectHtml=function(qTagLoader){var el=QTag.getLocation(qTagLoader);QTag.getTimerStarter(qTagLoader)();q.html.HtmlInjector.inject(el,qTagLoader.positionId===1,qTagLoader.html,QTag.getTimerEnder(qTagLoader))};QTag.getLocation=function(qTagLoader){var el;if(qTagLoader.locationId===1){el=document.getElementsByTagName("head")[0]}else{if(qTagLoader.locationId===2){el=document.body}else{if(qTagLoader.locationId===3){el=document.getElementById(qTagLoader.locationDetail)}else{el=document.body}}}return el};QTag.getTimerStarter=function(qTagLoader){return QTag.createStatementEvaluator(qTagLoader.pre)};QTag.getTimerEnder=function(qTagLoader){return function(url,error){if(qTagLoader.finishHandler){qTagLoader.finishHandler()}return QTag.createStatementEvaluator(qTagLoader.post)()}};QTag.createStatementEvaluator=function(statement){if((!!statement)&&(statement.length>0)){var fn=undefined,toRun="fn = function() {\nq.html.GlobalEval.globalEval(statement);\nQTag.incrementLoadCounter([]);\n};";eval(toRun);return fn}else{return function(){QTag.incrementLoadCounter([])}}};QTag.incrementLoadCounter=function(){QTag.loadersFinished+=1;if(QTag.loadersFinished===QTag.qTagLoaders.length*2){if(window.qTag_allLoaded){window.qTag_allLoaded()}}};var qTag=new QTag(urlFilters||[],scriptLoaders||{});function isTrackingEnabled(element){return !(element!=window&&element!=document&&element.attributes["data-ga-notrack"]!=null&&element.attributes["data-ga-notrack"].value=="true")}var UdgHelper=function(){};UdgHelper.prototype._addEventListener=function(obj,evt,ofnc,bubble){if(isTrackingEnabled(obj)){var fnc=function(event){if(!event||!event.target){event=window.event;event.target=event.srcElement}return ofnc.call(obj,event)};if(obj.addEventListener){obj.addEventListener(evt,fnc,!!bubble);return true}else{if(obj.attachEvent){return obj.attachEvent("on"+evt,fnc)}else{evt="on"+evt;if(typeof obj[evt]==="function"){fnc=(function(f1,f2){return function(){f1.apply(this,arguments);f2.apply(this,arguments)}}(obj[evt],fnc))}obj[evt]=fnc;return true}}}else{if(config.debug){console.log("Blocked tracking for element");console.log(obj)}}};UdgHelper.prototype._liveEvent=function(tag,evt,ofunc){var gh=this;tag=tag.toUpperCase();tag=tag.split(",");gh._addEventListener(document,evt,function(me){for(var el=me.target;el.nodeName!=="HTML";el=el.parentNode){if(utilities.inArray(tag,el.nodeName)||el.parentNode===null){break}}if(el&&utilities.inArray(tag,el.nodeName)){ofunc.call(el,me)}},true)};UdgHelper.prototype._DOMReady=function(callback){var scp=this;function cb(){if(cb.done){return}cb.done=true;callback.apply(scp,arguments)}if(/^(interactive|complete)/.test(document.readyState)){return cb()}this._addEventListener(document,"DOMContentLoaded",cb,false);this._addEventListener(window,"load",cb,false)};var sindexOf=String.prototype.indexOf;var slice=Array.prototype.slice;if(typeof MYAPPLICATION==="undefined"){UDGTRACKING={};UDGTRACKING.UTILITIES={};UDGTRACKING.HELPER={};UDGTRACKING.CONFIG={};UDGTRACKING.TRACKER={}}else{UDGTRACKING=UDGTRACKING}UDGTRACKING.CONFIG={debug:false,form:{enabled:true,submit:true,category:"Form Tracking"},GtmPoolContainerMapping:{PCNA:"5KX7X6",PCGB:"MZZHN5",PME:"PXF6TMR"},video:{enabled:true,vimeo:{enabled:true,category:"Video",percentages:[25,50,75,90]},youTube:{enabled:true,category:"Video",percentages:[25,50,75,90]},html5:{enabled:true,category:"Video"}},download:{enabled:true,extensions:"xls,xlsx,doc,docx,ppt,pptx,pdf,txt,zip,rar,7z,exe,wma,mov,avi,wmv,csv,tsv,jpg,gif,png,flv,mp4,mp3,swf,rss,webm,ogg",category:"Download"},mailto:{enabled:true,category:"Mailto"},outbound:{enabled:true,category:"Outbound",inbound:true,inboundCategory:"internal",inboundPattern:/(my\.porsche\.com)/g},telto:{enabled:true,category:"Telto"},social:{enabled:true,category:"Social",trackAsSocial:true,trackAsEvent:true,outboundSocialNetworks:[{url:"http://cc.porsche.com/icc_euro/resources/common/scripts/facebook.com/sharer.php",name:"facebook"},{url:"twitter.com/home",name:"twitter"},{url:"plus.google.com/share",name:"Google"}]},internalLink:{enabled:false,category:"Links"},printing:{enabled:true,category:"Print"},customTracking:[{trackingType:"page",elementType:"a",attribute:"data-ga-page-name",pattern:/.*/,pageName:"#data-ga-page-name#",enabled:true},{trackingType:"event",elementType:"a",attribute:"data-ga-event-category",pattern:/.*/,category:"#data-ga-event-category#",action:"#data-ga-event-action#",label:"#data-ga-event-label#",enabled:true},{trackingType:"social",elementType:"a",attribute:"data-ga-social-network",pattern:/.*/,network:"#data-ga-social-network#",socialAction:"#data-ga-social-action#",target:"#data-ga-social-target#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*\/(modelstart|startcc)\//,category:"Internal",action:"icc_model_select",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/(cc\.porsche|javascript:.*(openCC|POPUP\.CC))/,category:"Internal",action:"icc",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*(\/usedcarlocator|(locator|ucl)\.porsche\.)/,category:"Internal",action:"ipl",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*porschecard/,category:"Internal",action:"porsche_card",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/comparemodels\//,category:"Internal",action:"compare_models",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*shop\.porsche\.com/,category:"Internal",action:"pdds",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/tequipment\//,category:"Internal",action:"tequipment",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/flash\//,category:"Internal",action:"flash",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/microsite\//,category:"Internal",action:"microsite",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*print\(/,category:"Print",action:"print_button",label:vpName,enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*(facebook|twitter|instagram|flickr|youtube|pinterest|plus\.google)/,category:"Outbound",action:"social",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*(\('\/|.*porsche)/,category:"Internal",action:"gotoURL",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/(\?|&).*http.*(\.porsche|porsche\.)/,category:"Social",action:"share",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*mail.*read/i,category:"Social",action:"mail-share",label:vpName,enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl/i,category:"Outbound",action:"gotoURL",label:"#href#",enabled:true},{trackingType:"event",elementType:"img",attribute:"onclick",pattern:/javascript:.*Porsche_Credit_Application.*\.pdf/,category:"Download",action:"pdf",label:"#onclick#",enabled:true},{trackingType:"event",elementType:"img",attribute:"onclick",pattern:/printview/,category:"Print",action:"print_button",label:vpName,enabled:true},{trackingType:"event",elementType:"img",attribute:"onclick",pattern:/javascript:.*refreshpeform/i,category:"Fallback",action:"js_link",label:"#onclick#",enabled:true},{trackingType:"event",elementType:"a",attribute:"data-tracking-rule-identifier",pattern:/Language Selector/i,category:"Interaction",action:"languageSelector",label:"",enabled:false},{trackingType:"event",elementType:"div",attribute:"data-tracking-rule-identifier",pattern:/story_telling/i,category:"Interaction",action:"story_telling",label:"#data-story-identifier#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:/,category:"Fallback",action:"js_link",label:"#href#",enabled:true}]};UDGTRACKING.HELPER._addEventListener=function(obj,evt,ofnc,bubble){if(UDGTRACKING.UTILITIES.isTrackingEnabled(obj)){var fnc=function(event){if(!event||!event.target){event=window.event;event.target=event.srcElement}return ofnc.call(obj,event)};if(obj.addEventListener){obj.addEventListener(evt,fnc,!!bubble);return true}else{if(obj.attachEvent){return obj.attachEvent("on"+evt,fnc)}else{evt="on"+evt;if(typeof obj[evt]==="function"){fnc=(function(f1,f2){return function(){f1.apply(this,arguments);f2.apply(this,arguments)}}(obj[evt],fnc))}obj[evt]=fnc;return true}}}else{if(UDGTRACKING.CONFIG.debug){console.log("Blocked tracking for element");console.log(obj)}}};UDGTRACKING.HELPER._liveEvent=function(tag,evt,ofunc){var gh=this;tag=tag.toUpperCase();tag=tag.split(",");gh._addEventListener(document,evt,function(me){for(var el=me.target;el.nodeName!=="HTML";el=el.parentNode){if(UDGTRACKING.UTILITIES.inArray(tag,el.nodeName)||el.parentNode===null){break}}if(el&&UDGTRACKING.UTILITIES.inArray(tag,el.nodeName)){ofunc.call(el,me)}},true)};UDGTRACKING.HELPER._DOMReady=function(callback){var scp=this;function cb(){if(cb.done){return}cb.done=true;callback.apply(scp,arguments)}if(/^(interactive|complete)/.test(document.readyState)){return cb()}this._addEventListener(document,"DOMContentLoaded",cb,false);this._addEventListener(window,"load",cb,false)};UDGTRACKING.UTILITIES.checkFile=function(src,extensions){if(typeof src!=="string"){return false}var ext=src.split("?")[0];ext=ext.split(".");ext=ext[ext.length-1];ext=ext.toLowerCase();if(ext&&this.inArray(extensions,ext)){return ext}return false};UDGTRACKING.UTILITIES.loadGtm=function(){if(dealerType!="icc/"&&dealerType!="dcc/"){if(UDGTRACKING.CONFIG.GtmPoolContainerMapping[ga_data[0].page[0].pool]!=undefined){var GTMcontainerId=UDGTRACKING.CONFIG.GtmPoolContainerMapping[ga_data[0].page[0].pool];(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({"gtm.start":new Date().getTime(),event:"gtm.js"/*tpa=http://cc.porsche.com/icc_euro/resources/common/scripts/gtm.js*/});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!="dataLayer"?"&l="+l:"";j.async=true;j.src="https://www.googletagmanager.com/gtm.js?id="+i+dl;f.parentNode.insertBefore(j,f)})(window,document,"script","dataLayer","GTM-"+GTMcontainerId)}else{if(UDGTRACKING.CONFIG.debug){console.log("NO GTM Container is defined!")}}}};UDGTRACKING.UTILITIES.trackEvent=function(category,action,label){if(UDGTRACKING.CONFIG.debug==true){console.log("run command "+category);console.log(ga.getByName)}if(ga.getByName){var editedParams=convertEventParameter(category,action,label);if(typeof(config)!="undefined"&&UDGTRACKING.CONFIG.debug){console.log("GTM Debug: trackEvent \t"+editedParams.category+" | "+editedParams.action+" | "+editedParams.label)}for(i=0;i<registeredTackers.length;i++){var trackerName=registeredTackers[i];var activeTracker=ga.getByName(trackerName);if(activeTracker){if(UDGTRACKING.CONFIG.debug){console.log("Tracking with Logger :"+trackerName)}ga(trackerName+".send","event",editedParams.category,editedParams.action,editedParams.label)}}}};UDGTRACKING.UTILITIES.trackNonInteractionEvent=function(category,action,label){if(UDGTRACKING.CONFIG.debug){console.log("run command"+category);console.log(ga.getByName)}if(ga.getByName){var editedParams=convertEventParameter(category,action,label);if(typeof(UDGTRACKING.CONFIG.debug)!="undefined"&&UDGTRACKING.CONFIG.debug==true){console.log("GTM Debug: track Non Interactive Event \t"+editedParams.category+" | "+editedParams.action+" | "+editedParams.label)}for(i=0;i<registeredTackers.length;i++){var trackerName=registeredTackers[i];var activeTracker=ga.getByName(trackerName);if(activeTracker){if(UDGTRACKING.CONFIG.debug){console.log("Tracking with Logger :"+trackerName)}ga(trackerName+".send","event",editedParams.category,editedParams.action,editedParams.label,{nonInteraction:1})}}}};UDGTRACKING.UTILITIES.trackSocial=function(network,socialAction,target){if(ga.getByName){if(typeof(config)!="undefined"&&UDGTRACKING.CONFIG.debug){console.log("GTM Debug: trackSocial \t"+network+" | "+socialAction+" | "+target)}for(i=0;i<registeredTackers.length;i++){var trackerName=registeredTackers[i];var activeTracker=ga.getByName(trackerName);if(activeTracker){if(UDGTRACKING.CONFIG.debug){console.log("Tracking with Logger :"+trackerName)}ga(trackerName+".send","social",network,socialAction,target)}}}};UDGTRACKING.UTILITIES.trackPageview=function(pageName){if(ga.getByName){if(typeof(config)!="undefined"&&UDGTRACKING.CONFIG.debug){console.log("GTM Debug: trackPageview \t"+pageName)}for(i=0;i<registeredTackers.length;i++){var trackerName=registeredTackers[i];var activeTracker=ga.getByName(trackerName);if(typeof(activeTracker)!="undefined"){if(UDGTRACKING.CONFIG.debug){console.log("Tracking with Logger :"+trackerName)}ga(trackerName+".set","page",pageName);ga(trackerName+".send","pageview")}}}};UDGTRACKING.UTILITIES.getFormName=function(el){while(el&&el.nodeName!=="HTML"){if(el.nodeName==="FORM"){break}el=el.parentNode}if(el.nodeName==="FORM"){return el.name||el.id||"none"}return"none"};UDGTRACKING.UTILITIES.inArray=function(obj,item){if(obj&&obj.length){for(var i=0;i<obj.length;i++){if(obj[i]===item){return true}}}return false};UDGTRACKING.UTILITIES.trackHtml5Media=function(tag){var self=trackingHelper;self._liveEvent(tag,"play",UDGTRACKING.UTILITIES.trackHtml5MediaElement);self._liveEvent(tag,"pause",UDGTRACKING.UTILITIES.trackHtml5MediaElement);self._liveEvent(tag,"ended",UDGTRACKING.UTILITIES.trackHtml5MediaElement)};function trackHtml5Video(){if(!this._videoTracked){this._videoTracked=true}else{return}UDGTRACKING.UTILITIES.trackHtml5Media("video")}UDGTRACKING.UTILITIES.trackHtml5MediaElement=function(e){UDGTRACKING.UTILITIES.trackEvent(this.tagName,e.type,this.currentSrc)};var vimeoTimeTriggers=[];var vimeoPoolMaps={};var vimeo_urls={};UDGTRACKING.UTILITIES.vimeoPool=function(data){if(!vimeoPoolMaps[data.player_id]){vimeoPoolMaps[data.player_id]={};vimeoPoolMaps[data.player_id].timeTriggers=slice.call(vimeoTimeTriggers)}if(vimeoPoolMaps[data.player_id].timeTriggers.length>0){if(data.data.percent*100>=vimeoPoolMaps[data.player_id].timeTriggers[0]){var action=vimeoPoolMaps[data.player_id].timeTriggers.shift();UDGTRACKING.UTILITIES.trackEvent("Vimeo Video",action+"%",vimeo_urls[data.player_id])}}};UDGTRACKING.UTILITIES.vimeoPostMessage=function(method,params,target){if(!target.contentWindow||!target.contentWindow.postMessage||!JSON){return false}var url=target.getAttribute("src").split("?")[0],data=JSON.stringify({method:method,value:params});target.contentWindow.postMessage(data,url);return true};var _hasvimeo_window_event=false;var vimeoOpts;UDGTRACKING.UTILITIES.vimeoPostMessageListener=function(event){if(sindexOf.call(event.origin,"http://player.vimeo.com/")>-1){var data=JSON.parse(event.data);if(data.event==="ready"){UDGTRACKING.UTILITIES.trackVimeo(trackingHelper)}else{if(data.method){if(data.method==="getVideoUrl"){vimeo_urls[data.player_id]=data.value}}else{if(data.event==="playProgress"){UDGTRACKING.UTILITIES.vimeoPool(data)}else{UDGTRACKING.UTILITIES.trackEvent(vimeoOpts.category,data.event,vimeo_urls[data.player_id])}}}}};UDGTRACKING.UTILITIES.trackVimeo=function(gh){var iframes=document.getElementsByTagName("iframe");var vimeo_videos=0;var player_id;var player_src;var separator;var force=vimeoOpts.force;var partials=vimeoOpts.percentages;for(var i=0;i<iframes.length;i++){if(sindexOf.call(iframes[i].src,"http://player.vimeo.com/")>-1){player_id="gasvimeo_"+i;player_src=iframes[i].src;separator="?";if(sindexOf.call(player_src,"?")>-1){separator="&"}if(sindexOf.call(player_src,"api=1")<0){if(force){player_src+=separator+"api=1&player_id="+player_id}else{}}else{if(sindexOf.call(player_src,"player_id=")<-1){player_src+=separator+"player_id="+player_id}}vimeo_videos++;iframes[i].id=player_id;if(iframes[i].src!==player_src){iframes[i].src=player_src;break}UDGTRACKING.UTILITIES.vimeoPostMessage("getVideoUrl","",iframes[i]);UDGTRACKING.UTILITIES.vimeoPostMessage("addEventListener","play",iframes[i]);UDGTRACKING.UTILITIES.vimeoPostMessage("addEventListener","pause",iframes[i]);UDGTRACKING.UTILITIES.vimeoPostMessage("addEventListener","finish",iframes[i]);if(partials){vimeoTimeTriggers=partials;UDGTRACKING.UTILITIES.vimeoPostMessage("addEventListener","playProgress",iframes[i])}}}if(vimeo_videos>0&&_hasvimeo_window_event===false){gh._addEventListener(window,"message",UDGTRACKING.UTILITIES.vimeoPostMessageListener,false);_hasvimeo_window_event=true}};youTubePoolMaps={};UDGTRACKING.UTILITIES.trackYouTube=function(helper,opts){var force=opts.force;var opt_timeTriggers=opts.percentages;if(force){try{UDGTRACKING.UTILITIES.youtubeMigrateObjectEmbed()}catch(e){UDGTRACKING.UTILITIES.trackEvent("Exception",e,"GAS Error on youtube.js:youTubeMigrateObjectEmbed")}}var youtube_videos=[];var iframes=document.getElementsByTagName("iframe");for(var i=0;i<iframes.length;i++){if(sindexOf.call(iframes[i].src,"//www.youtube.com/embed")>-1){if(sindexOf.call(iframes[i].src,"enablejsapi=1")<0){if(force){if(sindexOf.call(iframes[i].src,"?")<0){iframes[i].src+="?enablejsapi=1"}else{iframes[i].src+="&enablejsapi=1"}}else{continue}}youtube_videos.push(iframes[i])}}if(youtube_videos.length>0){if(opt_timeTriggers&&opt_timeTriggers.length){youTubeTimeTriggers=opt_timeTriggers}window.onYouTubePlayerAPIReady=function(){var p;for(var i=0;i<youtube_videos.length;i++){p=new window.YT["Player"](youtube_videos[i]);p.addEventListener("onStateChange",UDGTRACKING.UTILITIES.youTubeStateChange);p.addEventListener("onError",UDGTRACKING.UTILITIES.youTubeError)}};var tag=document.createElement("script");var protocol="http:";if(document.location.protocol==="https:"){protocol="https:"}tag.src=protocol+"//www.youtube.com/iframe_api";tag.type="text/javascript";tag.async=true;var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}};UDGTRACKING.UTILITIES.youtubeMigrateObjectEmbed=function(){var objs=document.getElementsByTagName("object");var pars,ifr,ytid;var r=/(https?:\/\/www\.youtube(-nocookie)?\.com[^\/]*).*\/v\/([^&?]+)/;for(var i=0;i<objs.length;i++){pars=objs[i].getElementsByTagName("param");for(var j=0;j<pars.length;j++){if(pars[j].name==="movie"&&pars[j].value){ytid=pars[j].value.match(r);if(ytid&&ytid[1]&&ytid[3]){ifr=document.createElement("iframe");ifr.src=ytid[1]+"/embed/"+ytid[3]+"?enablejsapi=1";ifr.width=objs[i].width;ifr.height=objs[i].height;ifr.setAttribute("frameBorder","0");ifr.setAttribute("allowfullscreen","");objs[i].parentNode.insertBefore(ifr,objs[i]);objs[i].parentNode.removeChild(objs[i]);i--}break}}}};UDGTRACKING.UTILITIES.youTubePool=function(target,hash){if(youTubePoolMaps[hash]===undefined||youTubePoolMaps[hash].timeTriggers.length<=0){return false}var p=target.getCurrentTime()/target.getDuration()*100;if(p>=youTubePoolMaps[hash].timeTriggers[0]){var action=youTubePoolMaps[hash].timeTriggers.shift();UDGTRACKING.UTILITIES.trackEvent(youTubeOpts.category,action+"%",target.getVideoUrl())}youTubePoolMaps[hash].timer=setTimeout(UDGTRACKING.UTILITIES.youTubePool,1000,target,hash)};UDGTRACKING.UTILITIES.youTubeStopPool=function(target){var h=target.getVideoUrl();if(youTubePoolMaps[h]&&youTubePoolMaps[h].timer){UDGTRACKING.UTILITIES.youTubePool(target,h);clearTimeout(youTubePoolMaps[h].timer)}};UDGTRACKING.UTILITIES.youTubeStartPool=function(target){if(youTubeTimeTriggers&&youTubeTimeTriggers.length){var h=target.getVideoUrl();if(youTubePoolMaps[h]){UDGTRACKING.UTILITIES.youTubeStopPool(target)}else{youTubePoolMaps[h]={};youTubePoolMaps[h].timeTriggers=slice.call(youTubeTimeTriggers)}youTubePoolMaps[h].timer=setTimeout(UDGTRACKING.UTILITIES.youTubePool,1000,target,h)}};UDGTRACKING.UTILITIES.youTubeStateChange=function(event){var action="";switch(event.data){case 0:action="finish";UDGTRACKING.UTILITIES.youTubeStopPool(event.target);break;case 1:action="play";UDGTRACKING.UTILITIES.youTubeStartPool(event.target);break;case 2:action="pause";UDGTRACKING.UTILITIES.youTubeStopPool(event.target);break}if(action){UDGTRACKING.UTILITIES.trackEvent(youTubeOpts.category,action,event.target["getVideoUrl"]())}};UDGTRACKING.UTILITIES.isTrackingEnabled=function(element){return !(element!=window&&element!=document&&element.attributes["data-ga-notrack"]!=null&&element.attributes["data-ga-notrack"].value=="true")};UDGTRACKING.UTILITIES.youTubeError=function(event){UDGTRACKING.UTILITIEStrackEvent(youTubeOpts.category,"error ("+event.data+")",event.target["getVideoUrl"]())};UDGTRACKING.UTILITIES.getCustomEventParams=function(options,element){var returnValue={},originElement=element;for(var i=0;i<options.length;i++){var config=options[i];var attribute=config.attribute;element=originElement;while(element!=null&&element.nodeName.toLowerCase()!=config.elementType.toLowerCase()){element=element.parentElement}if(element!=null){if(element.attributes[attribute]&&config.pattern.test(element.attributes[attribute].value)){returnValue.trackingType=config.trackingType;var optionParams;switch(config.trackingType){case"event":optionParams=["category","action","label"];break;case"social":optionParams=["network","socialAction","target"];break;case"page":optionParams=["pageName"];break}for(var j=0;j<optionParams.length;j++){returnValue[optionParams[j]]="";var optionParamValue=config[optionParams[j]];if(/#.*#/.test(optionParamValue)){var attrib=optionParamValue.replace(/#/g,"");switch(attrib){case"html":returnValue[optionParams[j]]=element.innerHTML;break;default:if(element.attributes[attrib]){returnValue[optionParams[j]]=element.attributes[attrib].value}break}}else{returnValue[optionParams[j]]=optionParamValue}}return returnValue}}}return returnValue};UDGTRACKING.TRACKER.applyCustomTracking=function applyCustomTracking(){var attachedElements=new Array();if(UDGTRACKING.CONFIG.customTracking){if(UDGTRACKING.CONFIG.debug){console.log("custom tracking initialized")}for(var i=0;i<UDGTRACKING.CONFIG.customTracking.length;i++){var custom=UDGTRACKING.CONFIG.customTracking[i];var elements=document.getElementsByTagName(custom.elementType);for(var j=0;j<elements.length;j++){var currentElement=elements[j];var attribute=custom.attribute;var dataTrackedAttribute=currentElement.getAttribute("data-tracked");if(currentElement.attributes[attribute]&&custom.pattern.test(currentElement.attributes[attribute].value)&&custom.enabled==true&&!dataTrackedAttribute){currentElement.setAttribute("data-tracked","true");if(UDGTRACKING.CONFIG.debug){console.log("attaching event to element"+currentElement.attributes[attribute].value);console.log("matching pattern"+custom.pattern)}trackingHelper._addEventListener(currentElement,"mousedown",function(e){var params=UDGTRACKING.UTILITIES.getCustomEventParams(UDGTRACKING.CONFIG.customTracking,e.target);if(UDGTRACKING.CONFIG.debug){console.log(params)}switch(params.trackingType){case"event":UDGTRACKING.UTILITIES.trackEvent(params.category,params.action,params.label);break;case"social":UDGTRACKING.UTILITIES.trackSocial(params.network,params.socialAction,params.target);break;case"page":UDGTRACKING.UTILITIES.trackPageview(params.pageName);break}},true)}}}if(UDGTRACKING.CONFIG.debug){console.log("Attached Elements");console.log(attachedElements)}}};UDGTRACKING.TRACKER.trackDownloads=function(opts){var gh=trackingHelper;if(!gh._downloadTracked){gh._downloadTracked=true}else{return}if(!opts){opts={extensions:[]}}else{if(typeof opts.extensions==="string"){opts={extensions:opts.extensions.split(",")}}}opts.category=opts.category||"Download";gh._liveEvent("a","mousedown",function(e){var el=this;if(el.href){var ext=UDGTRACKING.UTILITIES.checkFile(el.href,opts.extensions);if(ext){UDGTRACKING.UTILITIES.trackEvent(opts.category,ext,el.href)}}});return false};UDGTRACKING.TRACKER.trackHtml5Video=function(){if(!this._videoTracked){this._videoTracked=true}else{return}UDGTRACKING.UTILITIES.trackHtml5Media("video")};UDGTRACKING.TRACKER.trackYouTubeVideo=function(opts){opts=opts||{};opts.force=opts.force||false;opts.category=opts.category||"youtube video";opts.percentages=opts.percentages||[];youTubeOpts=opts;var gh=trackingHelper;gh._DOMReady(function(){UDGTRACKING.UTILITIES.trackYouTube(gh,opts)});return false};UDGTRACKING.TRACKER.trackMailto=function(opts){if(!this._mailToTracked){this._mailToTracked=true}else{return}if(!opts){opts={}}opts.category=opts.category||"Mailto";trackingHelper._liveEvent("a","mousedown",function(e){var el=this;if(el&&el.href&&el.href.toLowerCase&&sindexOf.call(el.href.toLowerCase(),"mailto:")===0){UDGTRACKING.UTILITIES.trackEvent(opts.category,el.href.substr(7),vpName)}});return false};UDGTRACKING.TRACKER.trackOutboundLinks=function(opts){if(!this._outboundTracked){this._outboundTracked=true}else{return}var gh=trackingHelper;if(!opts){opts={}}opts.category=opts.category||"Outbound";gh._liveEvent("a","mousedown",function(e){var l=this;if((l.protocol==="http:"||l.protocol==="https:")&&sindexOf.call(l.hostname,document.location.hostname)===-1){var path=(l.pathname+l.search+""),utm=sindexOf.call(path,"__utm");if(utm!==-1){path=path.substring(0,utm)}opts.category="Outbound";if(UDGTRACKING.CONFIG.outbound.inbound!=null&&UDGTRACKING.CONFIG.outbound.inbound==true&&UDGTRACKING.CONFIG.outbound.inboundPattern.test(l.href)){if(UDGTRACKING.CONFIG.debug){console.log("Outbound Link -> Inbound")}opts.category=UDGTRACKING.CONFIG.outbound.inboundCategory}if(opts.social){var sharer=false;for(i=0;i<opts.networks.length;i++){var currentNetwork=opts.networks[i];if(sindexOf.call(l.hostname+l.pathname+l.search,currentNetwork.url)>-1){opts.category="Social";path=currentNetwork.name;sharer=true;break}}if(sharer){if(opts.trackAsSocial){UDGTRACKING.UTILITIES.trackSocial(path,"share","")}if(opts.trackAsEvent){UDGTRACKING.UTILITIES.trackEvent(opts.category,"share",path)}}else{UDGTRACKING.UTILITIES.trackEvent(opts.category,l.hostname,path)}}else{UDGTRACKING.UTILITIES.trackEvent(opts.category,l.hostname,path)}}})};UDGTRACKING.TRACKER.trackTelto=function(opts){if(!this._telToTracked){this._telToTracked=true}else{return}if(!opts){opts={}}opts.category=opts.category||"Telto";trackingHelper._liveEvent("a","mousedown",function(e){var el=this;if(el&&el.href&&el.href.toLowerCase&&sindexOf.call(el.href.toLowerCase(),"tel:")===0){UDGTRACKING.UTILITIES.trackEvent(opts.category,el.href.substr(4),vpName)}});return false};UDGTRACKING.TRACKER.trackPrinting=function(opts){var afterPrint=function(){UDGTRACKING.UTILITIES.trackEvent(opts.category,"print_dialogue",vpName)};if(window.matchMedia){var mediaQueryList=window.matchMedia("print");var mqlListenerCount=0;mediaQueryList.addListener(function(mql){if(!mql.matches&&mqlListenerCount<1){afterPrint();mqlListenerCount++}})}window.onafterprint=afterPrint};UDGTRACKING.TRACKER.trackForms=function(opts){if(!this._formTracked){this._formTracked=true}else{return}var scp=this;if(typeof opts!=="object"){opts={}}opts.category=opts.category||"Form Tracking";var trackField=function(e){var el=e.target,el_name=el.name||el.id||el.type||el.nodeName,form_name=UDGTRACKING.UTILITIES.getFormName(el),action="form ("+form_name+")",label=el_name+" ("+e.type+")";UDGTRACKING.UTILITIES.trackEvent(opts.category,action,label)};trackingHelper._DOMReady(function(){var changeTags=["input","select","textarea","hidden"];var submitTags=["form"];var elements=[];var i,j;for(i=0;i<changeTags.length;i++){elements=document.getElementsByTagName(changeTags[i]);for(j=0;j<elements.length;j++){trackingHelper._addEventListener(elements[j],"change",trackField)}}if(opts.submit){for(i=0;i<submitTags.length;i++){elements=document.getElementsByTagName(submitTags[i]);for(j=0;j<elements.length;j++){trackingHelper._addEventListener(elements[j],"submit",trackField)}}}})};UDGTRACKING.TRACKER.trackVimeoVideo=function(opts){var gh=trackingHelper;if(typeof opts==="boolean"||opts==="force"){opts={force:!!opts}}opts=opts||{};opts.category="vimeo video";opts.percentages=opts.percentages||[];opts.force=opts.force||false;vimeoOpts=opts;gh._DOMReady(function(){UDGTRACKING.UTILITIES.trackVimeo(gh)});return false};UDGTRACKING.TRACKER.initialize=function(){if(UDGTRACKING.CONFIG.debug){console.log("initialize global")}trackingHelper=UDGTRACKING.HELPER;UDGTRACKING.TRACKER.applyCustomTracking();var options={};if(UDGTRACKING.CONFIG.download.enabled){options={extensions:UDGTRACKING.CONFIG.download.extensions,category:UDGTRACKING.CONFIG.download.category};UDGTRACKING.TRACKER.trackDownloads(options)}if(UDGTRACKING.CONFIG.form.enabled){options={category:UDGTRACKING.CONFIG.form.category,submit:UDGTRACKING.CONFIG.form.submit};UDGTRACKING.TRACKER.trackForms(options)}if(UDGTRACKING.CONFIG.video.enabled){if(UDGTRACKING.CONFIG.video.vimeo.enabled){UDGTRACKING.TRACKER.trackVimeoVideo({percentages:UDGTRACKING.CONFIG.video.vimeo.percentages,category:UDGTRACKING.CONFIG.video.vimeo.category,force:true})}if(UDGTRACKING.CONFIG.video.html5.enabled){UDGTRACKING.TRACKER.trackHtml5Video({category:UDGTRACKING.CONFIG.video.html5.category})}if(UDGTRACKING.CONFIG.video.youTube.enabled){UDGTRACKING.TRACKER.trackYouTubeVideo({percentages:UDGTRACKING.CONFIG.video.youTube.percentages,category:UDGTRACKING.CONFIG.video.youTube.category,force:true})}}if(UDGTRACKING.CONFIG.mailto.enabled){options={category:UDGTRACKING.CONFIG.mailto.category};UDGTRACKING.TRACKER.trackMailto(options)}if(UDGTRACKING.CONFIG.outbound.enabled){options={category:UDGTRACKING.CONFIG.outbound.category,social:UDGTRACKING.CONFIG.social.enabled,networks:UDGTRACKING.CONFIG.social.outboundSocialNetworks,trackAsSocial:UDGTRACKING.CONFIG.social.trackAsSocial,trackAsEvent:UDGTRACKING.CONFIG.social.trackAsEvent};UDGTRACKING.TRACKER.trackOutboundLinks(options)}if(UDGTRACKING.CONFIG.telto.enabled){options={category:UDGTRACKING.CONFIG.telto.category};UDGTRACKING.TRACKER.trackTelto(options)}if(UDGTRACKING.CONFIG.printing.enabled){options={category:UDGTRACKING.CONFIG.printing.category};UDGTRACKING.TRACKER.trackPrinting(options)}UDGTRACKING.UTILITIES.loadGtm();if(UDGTRACKING.CONFIG.debug){console.log("GTM Debug: Extension initialized successful")}};UDGTRACKING.TRACKER.initialize();var eCommerceTracking=function(transActionData){var transaction={};transaction.id=transActionData[0].transaction[0].id;transaction.affiliation=ga_data[0].page[0].pool+"|payment:"+transActionData[0].transaction[0].paymentType+"|shipping:"+transActionData[0].transaction[0].shippingMethod+"|promo:"+transActionData[0].transaction[0].promoCode;transaction.revenue=transActionData[0].transaction[0].total;transaction.shipping=transActionData[0].transaction[0].shipping;transaction.tax=transActionData[0].transaction[0].tax;var transactionItems=new Array();for(i=0;i<transActionData[0].product.length;i++){var item={id:transActionData[0].product[i].sku,name:transActionData[0].product[i].name,category:transActionData[0].product[i].category,price:transActionData[0].product[i].price,quantity:transActionData[0].product[i].quantity};transactionItems.push(item)}for(i=0;i<registeredTackers.length;i++){var trackerName=registeredTackers[i];var activeTracker=ga.getByName(trackerName);if(activeTracker){if(config.debug){console.log("Tracking ecommerce with Logger : "+trackerName)}ga(trackerName+".require","ec");ga(trackerName+".set","&cu",transActionData[0].transaction[0].currency);for(j=0;j<transactionItems.length;j++){ga(trackerName+".ec:addProduct",transactionItems[j])}ga(trackerName+".ec:setAction","purchase",transaction);ga(trackerName+".set","page",vpName+"#ecom");ga(trackerName+".send","pageview")}}};ga(function(tracker){if(typeof(extensionLoaded)!="undefined"){initialize()}if(config.internalLink.enabled){var pattern=/#r=(.+?&|.*$)/;var matches=pattern.exec(window.location.hash);if(matches){var linkAction=matches[1].replace("&","");UDGTRACKING.UTILITIES.trackEvent(config.internalLink.category,linkAction,document.referrer)}}if(typeof EComTagLoadedCompleted=="function"){EComTagLoadedCompleted(eCommerceTracking)}});var eventParameter=[{"in":{category:{matchType:0,value:"video"},action:{matchType:1,value:/.*/},label:{matchType:1,value:/.*/}},out:{category:{convertType:2,value:'return"#category#".toLowerCase();'},action:{convertType:2,value:'return "#action#".toLowerCase();'},label:{convertType:1,value:"#label#;"}}},{"in":{category:{matchType:0,value:"outbound"},action:{matchType:1,value:/(\.porsche|porsche\.)/},label:{matchType:1,value:/.*/}},out:{category:{convertType:0,value:"internal"},action:{convertType:1,value:"#action#"},label:{convertType:1,value:"#label#"}}},{"in":{category:{matchType:1,value:/^(?!.*?(video|Video)).*$/},action:{matchType:1,value:/.*/},label:{matchType:1,value:/.*/}},out:{category:{convertType:2,value:'return"#category#".toLowerCase();'},action:{convertType:2,value:'return "#action#".toLowerCase();'},label:{convertType:2,value:'return "#label#".toLowerCase();'}}}];function convertEventParameter(category,action,label){var returnValues={category:category,action:action,label:label};for(i=0;i<eventParameter.length;i++){var param=eventParameter[i];var categoryMatch=(param["in"].category.matchType==0?param["in"].category.value==category:param["in"].category.value.test(category));var actionMatch=(param["in"].action.matchType==0?param["in"].action.value==action:param["in"].action.value.test(action));var labelMatch=(param["in"].label.matchType==0?param["in"].label.value==label:param["in"].label.value.test(label));if(categoryMatch&&actionMatch&&labelMatch){switch(param.out.category.convertType){case 1:returnValues.category=buildDynamicEventParameterValue(param.out.category.value,returnValues.category,returnValues.action,returnValues.label,false);break;case 2:returnValues.category=buildDynamicEventParameterValue(param.out.category.value,returnValues.category,returnValues.action,returnValues.label,true);break;default:returnValues.category=param.out.category.value;break}switch(param.out.action.convertType){case 1:returnValues.action=buildDynamicEventParameterValue(param.out.action.value,returnValues.category,returnValues.action,returnValues.label,false);break;case 2:returnValues.action=buildDynamicEventParameterValue(param.out.action.value,returnValues.category,returnValues.action,returnValues.label,true);break;default:returnValues.action=param.out.action.value;break}switch(param.out.label.convertType){case 1:returnValues.label=buildDynamicEventParameterValue(param.out.label.value,returnValues.category,returnValues.action,returnValues.label,false);break;case 2:returnValues.label=buildDynamicEventParameterValue(param.out.label.value,returnValues.category,returnValues.action,returnValues.label,true);break;default:returnValues.label=param.out.label.value;break}}}if(UDGTRACKING.CONFIG.debug){console.log(returnValues)}return returnValues}function buildDynamicEventParameterValue(template,category,action,label,evalCode){var result="";var dynamicValue=template.replace(/#category#/g,category);dynamicValue=dynamicValue.replace(/#action#/g,action);dynamicValue=dynamicValue.replace(/#label#/g,label);result=dynamicValue;if(evalCode){try{var evalFunction=new Function(dynamicValue);result=evalFunction()}catch(e){if(config.debug){console.log("Invalid output code defintion")}}}return result}var config={debug:false,form:{enabled:true,submit:true,category:"Form Tracking"},video:{enabled:true,vimeo:{enabled:true,category:"Video",percentages:[25,50,75,90]},youTube:{enabled:true,category:"Video",percentages:[25,50,75,90]},html5:{enabled:false,category:"Video"}},download:{enabled:true,extensions:"xls,xlsx,doc,docx,ppt,pptx,pdf,txt,zip,rar,7z,exe,wma,mov,avi,wmv,csv,tsv,jpg,gif,png,flv,mp4,mp3,swf,rss,webm,ogg",category:"Download"},mailto:{enabled:true,category:"Mailto"},outbound:{enabled:true,category:"Outbound"},telto:{enabled:true,category:"Telto"},social:{enabled:true,category:"Social",trackAsSocial:true,trackAsEvent:true,outboundSocialNetworks:[{url:"http://cc.porsche.com/icc_euro/resources/common/scripts/facebook.com/sharer.php",name:"facebook"},{url:"twitter.com/home",name:"twitter"},{url:"plus.google.com/share",name:"Google"}]},internalLink:{enabled:false,category:"Links"},printing:{enabled:true,category:"Print"},customTracking:[{trackingType:"page",elementType:"a",attribute:"data-ga-page-name",pattern:/.*/,pageName:"#data-ga-page-name#",enabled:true},{trackingType:"event",elementType:"a",attribute:"data-ga-event-category",pattern:/.*/,category:"#data-ga-event-category#",action:"#data-ga-event-action#",label:"#data-ga-event-label#",enabled:true},{trackingType:"social",elementType:"a",attribute:"data-ga-social-network",pattern:/.*/,network:"#data-ga-social-network#",socialAction:"#data-ga-social-action#",target:"#data-ga-social-target#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*\/(modelstart|startcc)\//,category:"Internal",action:"icc_model_select",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/(cc\.porsche|javascript:.*(openCC|POPUP\.CC))/,category:"Internal",action:"icc",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*(\/usedcarlocator|(locator|ucl)\.porsche\.)/,category:"Internal",action:"ipl",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*porschecard/,category:"Internal",action:"porsche_card",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/comparemodels\//,category:"Internal",action:"compare_models",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*shop\.porsche\.com/,category:"Internal",action:"pdds",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/tequipment\//,category:"Internal",action:"tequipment",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/flash\//,category:"Internal",action:"flash",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*\/microsite\//,category:"Internal",action:"microsite",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*print\(/,category:"Print",action:"print_button",label:vpName,enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*(facebook|twitter|instagram|flickr|youtube|pinterest|plus\.google)/,category:"Outbound",action:"social",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl.*(\('\/|.*porsche)/,category:"Internal",action:"gotoURL",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/(\?|&).*http.*(\.porsche|porsche\.)/,category:"Social",action:"share",label:"#href#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:.*mail.*read/i,category:"Social",action:"mail-share",label:vpName,enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:gotoUrl/i,category:"Outbound",action:"gotoURL",label:"#href#",enabled:true},{trackingType:"event",elementType:"img",attribute:"onclick",pattern:/javascript:.*Porsche_Credit_Application.*\.pdf/,category:"Download",action:"pdf",label:"#onclick#",enabled:true},{trackingType:"event",elementType:"img",attribute:"onclick",pattern:/printview/,category:"Print",action:"print_button",label:vpName,enabled:true},{trackingType:"event",elementType:"img",attribute:"onclick",pattern:/javascript:.*refreshpeform/i,category:"Fallback",action:"js_link",label:"#onclick#",enabled:true},{trackingType:"event",elementType:"a",attribute:"href",pattern:/javascript:/,category:"Fallback",action:"js_link",label:"#href#",enabled:true}]};if(typeof tracker!="undefined"&&typeof tracker.onload=="function"){ga(tracker.onload)}var eventHashNavigationConfig=eventHashNavigationConfig||{};eventHashNavigationConfig={finddealer:{category:"Internal",action:"dealersearch",label:"#pathname##hash#"}};var pageHashNavigationConfig=pageHashNavigationConfig||{};function onHashNavigationChange(){var hash=window.location.hash.replace("#","");if(eventHashNavigationConfig[hash]){var category=eventHashNavigationConfig[hash].category;var action=eventHashNavigationConfig[hash].action;var label=eventHashNavigationConfig[hash].label;category=replaceUrlPlaceholders(category);action=replaceUrlPlaceholders(action);label=replaceUrlPlaceholders(label);pag_tracker.event(category,action,label)}if(pageHashNavigationConfig[hash]){var page=pageHashNavigationConfig[hash];console.log("###############################   "+page);pag_tracker.page(page)}}function replaceUrlPlaceholders(template){template=template.replace("#pathname#",window.location.pathname);template=template.replace("#search#",window.location.search);template=template.replace("#hostname#",window.location.hostname);template=template.replace("#hash#",window.location.hash);return template}};